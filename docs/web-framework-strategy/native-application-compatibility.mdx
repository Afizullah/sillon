# Ce n'est pas un probl√®me pour une application mobile

En choisissant un framework web votre frontend va √™tre compatible avec quasiment toutes les situations. Par exemple, si vous souhaitez d√©velopper une application mobile vous pouvez tr√®s bien d√©velopper "une application web" qui sera encapsul√©e dans une application hybride native. En fait, l'application native va utiliser une "webview" (vue du navigateur natif) pour faire le rendu de l'application web, sauf que l'utilisateur ne s'en rend pas compte puisque l'application web appara√Æt en plein √©cran (sans barre d'URL‚Ä¶).

C'est une bonne strat√©gie pour gagner en co√ªt de d√©veloppement :

1.  Si votre application web est "responsive" elle pourra alors s'afficher sur un desktop, une tablette, ou un t√©l√©phone. Et ce, que ce soit dans un navigateur ou dans une application hybride ;
2.  Durant votre p√©riode de tests et pour √©viter de g√©rer des contraintes relatives √† [Android](<https://en.wikipedia.org/wiki/Android_(operating_system)>) ou [iOS](https://en.wikipedia.org/wiki/IOS), il vaut mieux permettre aux personnes de tester l'application via une URL, quitte √† activer le mode PWA (progressive web app) afin qu'ils puissent la mettre sur leur √©cran d'accueil comme une vraie application ;
3.  Vous √©crivez le m√™me code JavaScript/TypeScript pour g√©rer une version web, Android, iOS, [Electron](<https://en.wikipedia.org/wiki/Electron_(software_framework)>)‚Ä¶ Alors que si vous partiez en plus du web sur du natif Android (Java, Kotlin) et iOS (Objective-C, Swift), vous devriez trouver des librairies dans chaque langage, donc d√©cliner votre fonctionnalit√© en 3 codes diff√©rents, et esp√©rer avoir trouv√© des librairies avec des rendus graphiques similaires. **Une perte de temps consid√©rable !** _(√† noter qu'avec une application hybride il est possible que vous touchiez un peu au code natif pour configurer la webview ou des plugins, mais √ßa reste rare et √† la port√©e de tous car √©norm√©ment de plugins tout faits existent)_
4.  Une fois les bases natives pour l'hybridation mises en place, √† partir du moment o√π vous ne touchez plus qu'√† l'application web vous pouvez m√™me vous permettre de ne d√©velopper que localement sur le navigateur de votre ordinateur. Vous √™tes quasiment garantis que cela marchera sur mobile une fois compil√© dans l'application hybride.

Nous recommandons pour cela l'utilisation de [Capacitor](https://capacitorjs.com/).

:::note
[Apache Cordova](https://cordova.apache.org/) a longtemps √©t√© une r√©f√©rence mais il masquait trop la couche native, ce qui limitait la personnalisation. Son petit fr√®re [Capacitor](https://capacitorjs.com/) corrige tous ses d√©fauts.
:::

:::danger Mise en garde
**Il est important de justifier votre besoin d'avoir une application mobile.** C'est un chemin sem√© d'emb√ªches alors que certains produits pourraient d√©marrer avec une simple version "web" :

- Pour compiler l'application hybride, vous avez besoin de faire pareil que pour une application "native", il faut utiliser des outils comme [Android Studio](https://developer.android.com/studio) ou [Xcode](https://developer.apple.com/xcode/) (pour iOS) ;
- Pour iOS il faut forc√©ment poss√©der un Mac pour compiler votre application (ou utiliser un service en ligne payant mais √ßa complique le d√©bogage) ;
- Pour le Google Play le co√ªt **par** compte d√©veloppeur est de ~25 euros √† vie, et pour l'App Store il est de ~100 euros **par an et par** compte d√©veloppeur (si vous ne payez plus vous ne pourrez plus mettre √† jour votre application) ;
- Les API natives de l'OS ont souvent des mises √† jour qui apportent des breaking changes. Et vous ne pouvez pas vous permettre de les ignorer car les stores ([Google Play](https://en.wikipedia.org/wiki/Google_Play) et [App Store](https://en.wikipedia.org/wiki/App_store)) vous forcent √† garder un certain rythme de croisi√®re de mises √† jour, au risque sinon de ne plus √™tre list√© chez eux ;
- Chaque d√©ploiement d'une version d'application passe forc√©ment par des validations de la part des stores. Cela prend majoritairement quelques heures pour un environnement "beta", voire quelques jours pour de la "production". Vous vous retrouvez donc √† devoir essayer de synchroniser votre d√©ploiement backend par rapport aux d√©lais des stores. Notre conseil est de ne pas utiliser l'option "d√©ployer automatiquement" apr√®s validation (puisque pour Google Play et App Store ils ne donneront pas leur verdict en m√™me temps). Au lieu de cela, vous attendez que tout soit au vert pour cliquer sur les boutons en m√™me temps (juste apr√®s avoir d√©ploy√© votre backend). **Le fix d'un bug n'est donc pas imm√©diat pour les utilisateurs ;**
- Pour compl√©ter le point pr√©c√©dent, contrairement √† un site internet o√π une nouvelle version est normalement r√©cup√©r√©e directement √† l'utilisation, avec le m√©canisme des stores vos utilisateurs ne sont pas oblig√©s de faire les mises √† jour tout de suite, voire jamais. Vous vous retrouvez donc √† devoir g√©rer une API sans aucun breaking change le temps que **tous** vos utilisateurs fassent la migration. _On peut utiliser des plugins pour dire √† l'ouverture de l'application "hey, une nouvelle version est disponible, t√©l√©chargez-la" en rendant cela optionnel ou obligatoire, mais √ßa d√©pend de votre strat√©gie et de vos utilisateurs‚Ä¶ veulent-ils voir ce message intempestif √† chaque mise √† jour ?_
- Aussi, comme les validations des stores sont tant√¥t automatiques, tant√¥t manuelles, vous avez pu passer 10 fois le processus et malheureusement le jour o√π vous avez ABSOLUMENT besoin d'un d√©ploiement, ils vous bloquent en vous reprochant quelque chose d'arbitraire. Et par malchance cela prendra 10 jours ou plus. Il faut alors avoir un contact privil√©gi√© dans son sac pour esp√©rer acc√©l√©rer le processus. Cela s'est d√©j√† vu avec certaines applications de grandes banques fran√ßaises‚Ä¶

Le but n'est pas de vous faire fuir, mais plut√¥t de vous "pr√©parer" √† la dure r√©alit√© du d√©ploiement mobile. Mais ce n'est en rien insurmontable üì±üöÄ.
:::
